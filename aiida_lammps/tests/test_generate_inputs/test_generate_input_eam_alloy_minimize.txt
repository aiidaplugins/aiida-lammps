#------------------------Start of the Control information------------------------#
clear
units metal
newton on
timestep 1e-05
#-------------------------End of the Control information-------------------------#
#-----------------------Start of the Structure information-----------------------#
box tilt small
dimension 3
boundary p p p 
atom_style atomic
read_data structure.dat
#------------------------End of the Structure information------------------------#
#-------------------------Start of Potential information-------------------------#
pair_style eam/alloy 
pair_coeff * * potential.dat Fe Fe
#--------------------------End of Potential information--------------------------#
#--------------------------Start of the Fix information--------------------------#
fix box_relax_all_aiida all box/relax iso 0.0 vmax 0.001
#---------------------------End of the Fix information---------------------------#
#------------------------Start of the Compute information------------------------#
compute ke_atom_all_aiida all ke/atom    
compute pe_atom_all_aiida all pe/atom    
compute pressure_all_aiida all pressure thermo_temp
compute stress_atom_all_aiida all stress/atom NULL
#-------------------------End of the Compute information-------------------------#
#------------------------Start of the Thermo information-------------------------#
thermo_style custom step ke pe press pxx pyy pzz etotal c_pressure_all_aiida c_pressure_all_aiida[1] c_pressure_all_aiida[2] c_pressure_all_aiida[3] c_pressure_all_aiida[4] c_pressure_all_aiida[5] c_pressure_all_aiida[6]
thermo 100
#-------------------------End of the Thermo information--------------------------#
#-------------------------Start of the Dump information--------------------------#
dump aiida all custom 1000 temp.dump id type element x y z c_ke_atom_all_aiida c_pe_atom_all_aiida c_stress_atom_all_aiida[1] c_stress_atom_all_aiida[2] c_stress_atom_all_aiida[3] c_stress_atom_all_aiida[4] c_stress_atom_all_aiida[5] c_stress_atom_all_aiida[6]
dump_modify aiida sort id
dump_modify aiida element Fe Fe
dump_modify aiida format line "%6d %4d %4s %16.10f %16.10f %16.10f %16.10f %16.10f %16.10f %16.10f %16.10f %16.10f %16.10f %16.10f"
#--------------------------End of the Dump information---------------------------#
#---------------------Start of the Minimization information----------------------#
min_style cg
minimize 0.0001 1e-05 5000 5000
#----------------------End of the Minimization information-----------------------#
#--------------------Start of the Final Variables information--------------------#
variable final_step equal step
variable final_ke equal ke
variable final_pe equal pe
variable final_press equal press
variable final_pxx equal pxx
variable final_pyy equal pyy
variable final_pzz equal pzz
variable final_etotal equal etotal
variable final_c_pressure_all_aiida equal c_pressure_all_aiida
variable final_c_pressure_all_aiida_1 equal c_pressure_all_aiida[1]
variable final_c_pressure_all_aiida_2 equal c_pressure_all_aiida[2]
variable final_c_pressure_all_aiida_3 equal c_pressure_all_aiida[3]
variable final_c_pressure_all_aiida_4 equal c_pressure_all_aiida[4]
variable final_c_pressure_all_aiida_5 equal c_pressure_all_aiida[5]
variable final_c_pressure_all_aiida_6 equal c_pressure_all_aiida[6]
#---------------------End of the Final Variables information---------------------#
#---------------Start of the Printing Final Variables information----------------#
print "#Final results" file aiida_lammps.yaml
print "final_step: ${final_step}" append aiida_lammps.yaml
print "final_ke: ${final_ke}" append aiida_lammps.yaml
print "final_pe: ${final_pe}" append aiida_lammps.yaml
print "final_press: ${final_press}" append aiida_lammps.yaml
print "final_pxx: ${final_pxx}" append aiida_lammps.yaml
print "final_pyy: ${final_pyy}" append aiida_lammps.yaml
print "final_pzz: ${final_pzz}" append aiida_lammps.yaml
print "final_etotal: ${final_etotal}" append aiida_lammps.yaml
print "final_c_pressure_all_aiida: ${final_c_pressure_all_aiida}" append aiida_lammps.yaml
print "final_c_pressure_all_aiida_1: ${final_c_pressure_all_aiida_1}" append aiida_lammps.yaml
print "final_c_pressure_all_aiida_2: ${final_c_pressure_all_aiida_2}" append aiida_lammps.yaml
print "final_c_pressure_all_aiida_3: ${final_c_pressure_all_aiida_3}" append aiida_lammps.yaml
print "final_c_pressure_all_aiida_4: ${final_c_pressure_all_aiida_4}" append aiida_lammps.yaml
print "final_c_pressure_all_aiida_5: ${final_c_pressure_all_aiida_5}" append aiida_lammps.yaml
print "final_c_pressure_all_aiida_6: ${final_c_pressure_all_aiida_6}" append aiida_lammps.yaml
#----------------End of the Printing Final Variables information-----------------#
#---------------------Start of the write restart information---------------------#
write_restart restart.aiida
#----------------------End of the write restart information----------------------#
